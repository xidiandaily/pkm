【进行中】抓取京东商城商品数据库――京东商城的打折是真的吗？
作者:chiyl
时间:%%mtime(%c)

%!includeconf: config.t2t

---------------------
%!include: file_head.t2t
---------------------
+目标+
  隔三差五的就看到京东商城的打折信息。突然间想起一个想法:**京东商城的所谓折扣是不是真的？以前看到有些超市所谓打折就是在临近打折时故意将价格抬高，然后再活动时再降低，营造打折的假象。不知道京东是不是也是这个路数呢?**。对于普通的超市我可能没有什么精力去一一记录价格，然后再在活动时再进行比较。但是对于**京东商城**来说却是可以的，我完全可以自己制作一个软件抓取商城上所有的商品的价格，将它记录下来，每隔一段时间（比如说两天）就记录一次，这样几次之后就能够得到一个价格走线图，这样就可以得知京东商城的折扣是不是真的了。@@
  而且这个程序做好之后，还可以针对某一类（某些）商品进行长期的跟踪。@@
  **这篇文章记录项目的制作过程**。@@
（如果我使用到的实现方法稍显繁琐，或是有更好的实现方法，请告诉我，谢谢 ;-)）@@

+准备+
++使用到的perl模块++
	Encode @@
	LWP::Simple @@
	HTML::HeadParer @@
	encode::Detect @@

++使用到的数据库++
	mysql @@

+开始+
++获取可用的京东商城的链接地址++
京东商城商品商品网址结构：(http://www.360buy.com/product/532916.html)，浏览了多项之后，发现其网址前部(http://www.360buy.com/product/)是不变化的，然后接着6位数字（我称之为商品ID），在后面是网址的后缀(.html)。
决定使用: 头部+商品ID+后缀的方式。从 100000 开始逐一读取网址并分析是否有效的地址(判定依据是**价格是否存在**)，不过这个方法太慢，但是除此之外尚未找到更好的获取有效的京东商城商品链接地址的方法。**__求助__**@@

++分析网页++
	(使用perl分析，获得价格信息，但是京东上显示的价格信息为图片，这个费了点功夫)

++存储至数据库++
京东商城的网址上的商品ID和商品是一一对应的，因此可以使用这个ID来作为主键。商品名称、商品描述信息、商品ID为一张表，商品ID、价格信息、抓取时间又为另一张表。@@
设计的表结构如下:@@
table produce_info:@@
| 类型 | 描述 |
| INT  | 商品ID(主键) |
| VARCHAR(100) | 价格 |
| VARCHAR(500) | 商品描述 |

table produce_value:@@
| 类型 | 描述 |
| INT | 商品ID(主键) |
| INT | 商品价格 |
| DATE | 抓取时间 |

++查询界面++
(待做)

+求助+
以下这些是我目前遇到的难以解决的地方，如果你有很好的解决方法，请告诉我吧，谢谢。我的地址:[xidiandaily(at)126.com mailto:xidiandaily@126.com]

 - **如何能有效地获取京东商城商品链接地址。**



---------------------
%!include: file_head.t2t
